#  ν”„λ΅μ νΈ λ¶„μ„ λ³΄κ³ μ„: Snowball Fight

- **ν”„λ΅μ νΈ λ…**: Snowball Fight (λμ‹Έμ›€ κ²μ„)  
- **GitHub λ§ν¬**: [https://github.com/decentraland-scenes/snowball-fight](https://github.com/decentraland-scenes/snowball-fight)

---

##  μ–΄λ–¤ κ²μ„μΈμ§€

Snowball Fightλ” λ‹¤μμ ν”λ μ΄μ–΄κ°€ λλ©μ΄λ¥Ό λμ§€λ©° κ²½μν•λ” λ©€ν‹°ν”λ μ΄μ–΄ PvP κ²μ„μ΄λ‹¤. μ‹¤μ‹κ°„ μ„μΉ λ™κΈ°ν™”μ™€ μ¶©λ νμ •, μ μ κ³„μ‚° λ“±μ΄ κµ¬ν„λμ–΄ μμ.

-μ£Όμ” κΈ°λ¥-
- μ‹¤μ‹κ°„ μ μ € μ„μΉ λ™κΈ°ν™” λ° μ΄λ™
- λλ©μ΄ μƒμ„±, λ°μ‚¬, μ¶©λ νμ •
- μ μ μ‹μ¤ν… λ° μΆ…λ£ μ΅°κ±΄
- PlayFabμ„ ν†µν• μ‚¬μ©μ μΈμ¦

---

## π§± ν΄λΌμ΄μ–ΈνΈ/μ„λ²„ κµ¬μ΅° μ”μ•½

             +-------------------------+
             |     π§ Client (TS)       |
             |-------------------------|
             | joinOrCreate("arena")   |
             | room.send("throw")      |
             | onStateChange(...)      |
             +-----------β–²-------------+
                         |
                WebSocket (Colyseus)
                         |
             +-----------β–Ό-------------+
             |     π–¥ Server (TS)       |
             |-------------------------|
             | Colyseus Room κ΄€λ¦¬      |
             | Schema μƒνƒ μ—…λ°μ΄νΈ     |
             | λ©”μ‹μ§€ μμ‹ /λΈλ΅λ“μΊμ¤νΈ |
             +-------------------------+


- ν΄λΌμ΄μ–ΈνΈλ” Decentraland SDKλ΅ μ”¬μ„ λ λ”λ§ν•κ³ , Colyseusλ΅ μ„λ²„μ™€ μ—°κ²°λ¨.
- μ„λ²„λ” Colyseus Room λ‚΄μ—μ„ μ μ € μƒνƒλ¥Ό κ΄€λ¦¬ν•κ³ , λ™κΈ°ν™”λ μƒνƒλ¥Ό μ „νν•¨. 
---

## Colyseus μ‚¬μ© λ°©μ‹ μ”μ•½

### Room κ΄€λ¦¬  
- `ArenaRoom` ν΄λμ¤μ—μ„ `onCreate`, `onJoin`, `onLeave` λ“±μ„ ν†µν•΄ λ£Έ λΌμ΄ν”„μ‚¬μ΄ν΄μ„ μ μ–΄.
- ν•λ‚μ λ£Έμ—μ„ μ—¬λ¬ ν”λ μ΄μ–΄κ°€ λ™μ‹μ— μ ‘μ†ν•΄ μƒνΈμ‘μ©.

### μƒνƒ λ™κΈ°ν™” (State Synchronization)  
- `GameState`, `Player`, `Snowball` λ“±μ `Schema` ν΄λμ¤λ¥Ό ν†µν•΄ κµ¬μ΅°ν™”λ μƒνƒ κ°μ²΄λ¥Ό μ •μ.
- μ΄ μƒνƒλ” μ„λ²„μ—μ„ μ£ΌκΈ°μ μΌλ΅ μ—…λ°μ΄νΈλλ©°, ν΄λΌμ΄μ–ΈνΈλ” `onStateChange()`λ΅ μ΄λ¥Ό μμ‹ ν•΄ μ”¬μ„ κ°±μ‹ .

### λ©”μ‹μ§€ μ²λ¦¬ (Message Handling)  
- ν΄λΌμ΄μ–ΈνΈλ” `room.send("throw", {x, y, z})` μ™€ κ°™μ΄ λ©”μ‹μ§€λ¥Ό λ³΄λƒ„.
- μ„λ²„λ” `onMessage("throw", handler)` λ΅ μ΄λ¥Ό μ²λ¦¬ν•κ³  κ²μ„ μƒνƒλ¥Ό κ°±μ‹ 

---

## μμ—… κ°λ…κ³Ό μ—°κ²°λλ” λ¶€λ¶„

- Room κµ¬μ΅°: Colyseusμ—μ„μ `Room` ν΄λμ¤λ” μ„λ²„μ—μ„ κ²μ„ μ„Έμ… λ‹¨μ„λ΅ ν΄λΌμ΄μ–ΈνΈλ¥Ό κ·Έλ£Ήν™”ν•κ³ , μƒνƒμ™€ λ©”μ‹μ§€λ¥Ό κ΄€λ¦¬ν•λ” ν•µμ‹¬ λ‹¨μ„μ΄λ‹¤. μμ—…μ—μ„ λ°°μ΄ Roomμ€ ν”λ μ΄μ–΄λ“¤μ΄ κ³µμ ν•λ” κ³µκ°„μ΄λ©°, κ·Έ μ•μ—μ„ μ„λ²„κ°€ μ£Όλ„μ μΌλ΅ λ™μ‘μ„ μ μ–΄ν•λ” κµ¬μ΅°μΈλ°, μ΄ ν”„λ΅μ νΈμ—μ„ `ArenaRoom`μ΄ μ •ν™•ν κ·Έ μ—­ν• μ„ μν–‰ν•¨.

- Clientβ€“Server κµ¬μ΅°: ν΄λΌμ΄μ–ΈνΈλ” λλ©μ΄ λ°μ‚¬ λ“± μ‚¬μ©μ μ…λ ¥μ„ μ„λ²„μ— μ „λ‹¬ν•κ³ , μ„λ²„λ” μ΄λ¥Ό μ²λ¦¬ν• λ’¤ μƒνƒλ¥Ό κ°±μ‹ ν•΄ λ‹¤μ‹ ν΄λΌμ΄μ–ΈνΈμ— μ „λ‹¬. μ΄λ” μμ—…μ—μ„ λ°°μ΄ **λΉ„μ¦λ‹μ¤ λ΅μ§μ€ μ„λ²„μ—, λ·°/UIλ” ν΄λΌμ΄μ–ΈνΈμ—** λΌλ” μ›μΉ™κ³Ό μ™„μ „ν μΌμΉ. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ μƒνƒλ¥Ό μμ‹ ν•κ³  ECS μ—”ν‹°ν‹°μ— λ°μν•λ” μ—­ν• λ§ ν•λ©°, ν•µμ‹¬ λ΅μ§μ€ λ¨λ‘ μ„λ²„ `Room` λ‚΄μ—μ„ μ²λ¦¬λ¨.

- μƒνƒ κ΄€λ¦¬ λ°©μ‹: `Schema`λ¥Ό μ΄μ©ν• μƒνƒ λ¨λΈμ€ μ΄λ•κΉμ§€ λ°°μ΄ "μ„λ²„μ μƒνƒκ°€ μ§„μ§κ³ , ν΄λΌμ΄μ–ΈνΈλ” κ·Έκ±Έ λ”°λΌκ°„λ‹¤"λ” κ°λ…κ³Όλ„ μ§μ ‘ μ—°κ²°λ¨.

## μΈμƒ κΉμ—λ κµ¬μ΅°/μ•„μ΄λ””μ–΄

- ν΄λΌμ΄μ–ΈνΈ μµμ†ν™” μ„¤κ³„: λ€λ¶€λ¶„μ λ΅μ§μ΄ μ„λ²„μ—μ„ μ²λ¦¬λκ³ , ν΄λΌμ΄μ–ΈνΈλ” μƒνƒ λ°μλ§ ν•λ„λ΅ μ„¤κ³„λμ–΄ λ³΄μ•/μΌκ΄€μ„± μΈ΅λ©΄μ—μ„ λ›°μ–΄λ‚λ‹¤κ³  μƒκ°ν•¨. 

---

##  κ°μΈ μ†κ° & νκ³ 

Colyseusλ” λ™μ‹ μ ‘μ†μ„ μ²λ¦¬ν•κ³  κ΄€λ¦¬ν•λ” λ„¤νΈμ›ν¬ μ¤‘κ°μμ΄μ μ„λ²„ ν”„λ μ„μ›ν¬λΌλ” μ μ„ λ°°μΈ μ μμ–΄ μΆ‹μ•λ‹¤. λ™μ‹ μ ‘μ†μ΄λΌλ” μ΄λ•κΉμ§€ μ¨λ³Έ ν΄μ—μ„ μ¤‘μ”μ‹ν•μ§€ μ•μ€ κΈ°λ¥μ„ λ©”μΈμΌλ΅ λ―Έλ” ν΄μ„ μ¨λ³Ό μ μμ–΄μ„, κ·Έλ¦¬κ³  κ·Έλ¥Ό ν™μ©ν• κ²μ„μ„ λ¶„μ„ν•΄λ³΄λ” κ³Όμ •μ—μ„ μƒλ΅μ΄ λλ‚μ„ λ°›μ„ μ μμ—λ‹¤.  